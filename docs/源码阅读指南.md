# CZSC æºç é˜…è¯»æŒ‡å—

> æœ¬æ–‡æ¡£æ—¨åœ¨å¸®åŠ©å¼€å‘è€…å¿«é€Ÿç†è§£ CZSCï¼ˆç¼ ä¸­è¯´ç¦…æŠ€æœ¯åˆ†æå·¥å…·ï¼‰é¡¹ç›®çš„ä»£ç ç»“æ„ã€æ ¸å¿ƒæ¦‚å¿µå’Œä½¿ç”¨æ–¹æ³•

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [é˜…è¯»å‰çš„å‡†å¤‡](#é˜…è¯»å‰çš„å‡†å¤‡)
- [æ ¸å¿ƒæ¦‚å¿µç†è§£](#æ ¸å¿ƒæ¦‚å¿µç†è§£)
- [æºç é˜…è¯»é¡ºåº](#æºç é˜…è¯»é¡ºåº)
- [è¯¦ç»†æ¨¡å—è§£æ](#è¯¦ç»†æ¨¡å—è§£æ)
- [å®æˆ˜ä¸Šæ‰‹æŒ‡å—](#å®æˆ˜ä¸Šæ‰‹æŒ‡å—)
- [è¿›é˜¶å­¦ä¹ è·¯å¾„](#è¿›é˜¶å­¦ä¹ è·¯å¾„)

---

## é¡¹ç›®ç®€ä»‹

**CZSC** æ˜¯åŸºäºç¼ ä¸­è¯´ç¦…ç†è®ºçš„ç»¼åˆæ€§é‡åŒ–äº¤æ˜“ Python åº“ï¼Œæä¾›ï¼š

- âœ… ç¼ è®ºæ ¸å¿ƒæ¦‚å¿µï¼ˆåˆ†å‹ã€ç¬”ã€çº¿æ®µã€ä¸­æ¢ï¼‰çš„è‡ªåŠ¨è¯†åˆ«
- âœ… å¤šçº§åˆ«è”ç«‹åˆ†ææ¡†æ¶
- âœ… ä¿¡å·-äº‹ä»¶-äº¤æ˜“çš„å®Œæ•´é‡åŒ–ä½“ç³»
- âœ… ç­–ç•¥å›æµ‹å’Œå‚æ•°ä¼˜åŒ–å·¥å…·
- âœ… å¤šæ•°æ®æºæ¥å…¥ï¼ˆTushareã€èšå®½ã€å¤©å‹¤ç­‰ï¼‰
- âœ… Rust/Python æ··åˆæ¶æ„ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰

**æŠ€æœ¯æ ˆ**: Python 3.8+, Rust (å¯é€‰), Pandas, Plotly, Streamlit

---

## é˜…è¯»å‰çš„å‡†å¤‡

### 1. ç¯å¢ƒæ­å»º

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/waditu/czsc.git
cd czsc

# å®‰è£…ä¾èµ–ï¼ˆæ¨èä½¿ç”¨ UVï¼‰
uv sync --extra dev

# æˆ–ä½¿ç”¨ pip
pip install -e .
```

### 2. å¿…å¤‡çŸ¥è¯†

- **Python åŸºç¡€**: é¢å‘å¯¹è±¡ã€è£…é¥°å™¨ã€æ•°æ®ç±»ï¼ˆdataclassï¼‰
- **é‡‘èçŸ¥è¯†**: Kçº¿å›¾ã€æŠ€æœ¯æŒ‡æ ‡ã€é‡åŒ–äº¤æ˜“åŸºæœ¬æ¦‚å¿µ
- **ç¼ è®ºåŸºç¡€**: å»ºè®®å…ˆé˜…è¯»ç¼ ä¸­è¯´ç¦…åŸæ–‡ï¼ˆè§é¡¹ç›®æ–‡æ¡£ï¼‰

### 3. å…³é”®æ–‡æ¡£

| æ–‡æ¡£ | é“¾æ¥/ä½ç½® | è¯´æ˜ |
|------|----------|------|
| README.md | é¡¹ç›®æ ¹ç›®å½• | é¡¹ç›®æ¦‚è§ˆå’Œå¿«é€Ÿå¼€å§‹ |
| CLAUDE.md | é¡¹ç›®æ ¹ç›®å½• | è¯¦ç»†å¼€å‘æŒ‡å—ï¼ˆå¼ºçƒˆæ¨èï¼‰ |
| API æ–‡æ¡£ | https://czsc.readthedocs.io | å®Œæ•´ API å‚è€ƒ |
| é£ä¹¦æ–‡æ¡£ | https://s0cqcxuy3p.feishu.cn | é¡¹ç›®æ–‡æ¡£å’Œæ•™ç¨‹ |
| Bç«™è§†é¢‘ | https://space.bilibili.com/243682308 | è§†é¢‘æ•™ç¨‹åˆé›† |

---

## æ ¸å¿ƒæ¦‚å¿µç†è§£

### ä¿¡å·-äº‹ä»¶-äº¤æ˜“ä½“ç³»

è¿™æ˜¯ CZSC æœ€æ ¸å¿ƒçš„é‡åŒ–äº¤æ˜“æ–¹æ³•è®ºï¼š

```
åŸå§‹Kçº¿ â†’ ä¿¡å·(Signal) â†’ äº‹ä»¶(Event) â†’ äº¤æ˜“å†³ç­–(Position)
```

#### 1. **ä¿¡å· (Signal)**
- æœ€åŸºç¡€çš„æŠ€æœ¯æŒ‡æ ‡æˆ–å¸‚åœºçŠ¶æ€åˆ¤æ–­
- ä¾‹å¦‚ï¼šå‡çº¿ä½ç½®ã€åˆ†å‹çŠ¶æ€ã€æˆäº¤é‡ç‰¹å¾
- ä½ç½®ï¼š`czsc/signals/`
- ä¿¡å·æ˜¯æœ€å°çš„åˆ¤æ–­å•å…ƒï¼Œæ¯ä¸ªä¿¡å·å‡½æ•°è¿”å›ä¸€ä¸ªæ˜ç¡®çš„å¸‚åœºçŠ¶æ€

#### 2. **äº‹ä»¶ (Event)**
- é€šè¿‡é€»è¾‘å…³ç³»ï¼ˆAND/OR/NOTï¼‰ç»„åˆå¤šä¸ªä¿¡å·
- ä»£è¡¨ä¸€ä¸ªå®Œæ•´çš„å¸‚åœºäº‹ä»¶æˆ–äº¤æ˜“æ¡ä»¶
- ä¾‹å¦‚ï¼š"å¤šå¤´å¯åŠ¨äº‹ä»¶" = "MA5ä¸Šç©¿MA20"(signals_all) AND NOT "æ¶¨åœ"(signals_not)
- å¯¹åº”å¼€ä»“æˆ–å¹³ä»“çš„è§¦å‘æ¡ä»¶
- åŒ…å«ä¸‰ç§ä¿¡å·ç»„åˆæ–¹å¼ï¼š
  - `signals_all`: å¿…é¡»å…¨éƒ¨æ»¡è¶³çš„ä¿¡å·åˆ—è¡¨
  - `signals_any`: æ»¡è¶³ä»»ä¸€å³å¯çš„ä¿¡å·åˆ—è¡¨  
  - `signals_not`: ä¸èƒ½å‡ºç°çš„ä¿¡å·åˆ—è¡¨

#### 3. **äº¤æ˜“ (Position)**
- åŸºäºäº‹ä»¶çš„å®Œæ•´äº¤æ˜“ç­–ç•¥
- å®šä¹‰å¼€ä»“äº‹ä»¶åˆ—è¡¨ï¼ˆopensï¼‰å’Œå¹³ä»“äº‹ä»¶åˆ—è¡¨ï¼ˆexitsï¼‰
- åŒ…å«æ­¢æŸã€è¶…æ—¶ã€å¼€ä»“é—´éš”ç­‰é£é™©æ§åˆ¶å‚æ•°

### ç¼ è®ºæ ¸å¿ƒå¯¹è±¡

```python
RawBar   # åŸå§‹Kçº¿ï¼ˆå¸¦ OHLCVï¼‰
  â†“ å»é™¤åŒ…å«å…³ç³»
NewBar   # å¤„ç†åçš„Kçº¿ï¼ˆæ— åŒ…å«å…³ç³»ï¼‰
  â†“ è¯†åˆ«åˆ†å‹
FX       # åˆ†å‹ï¼ˆé¡¶åˆ†å‹/åº•åˆ†å‹ï¼‰
  â†“ è¯†åˆ«ç¬”
BI       # ç¬”ï¼ˆè¿æ¥ç›¸é‚»åˆ†å‹çš„çº¿æ®µï¼‰
  â†“ è¯†åˆ«çº¿æ®µå’Œä¸­æ¢
ZS       # ä¸­æ¢ï¼ˆä»·æ ¼éœ‡è¡åŒºé—´ï¼‰
```

**è¯´æ˜**: è¿™äº›æ˜¯ç¼ è®ºçš„æ ¸å¿ƒæŠ€æœ¯åˆ†æå¯¹è±¡ï¼Œä¸äº¤æ˜“å†³ç­–ä½“ç³»ï¼ˆSignalâ†’Eventâ†’Positionï¼‰æ˜¯ä¸¤ä¸ªä¸åŒçš„å±‚é¢ã€‚

### å¤šçº§åˆ«è”ç«‹åˆ†æ

CZSC æ”¯æŒåŒæ—¶åˆ†æå¤šä¸ªæ—¶é—´å‘¨æœŸï¼Œä¾‹å¦‚ï¼š

```python
freqs = ['1åˆ†é’Ÿ', '5åˆ†é’Ÿ', '30åˆ†é’Ÿ', 'æ—¥çº¿']
# å¯ä»¥ç»„åˆä¸åŒçº§åˆ«çš„ä¿¡å·è¿›è¡Œå†³ç­–
# ä¾‹å¦‚ï¼šæ—¥çº¿çœ‹è¶‹åŠ¿ + 30åˆ†é’Ÿçœ‹å…¥åœºç‚¹ + 1åˆ†é’Ÿçœ‹ç²¾ç¡®ä½ç½®
```

---

## æºç é˜…è¯»é¡ºåº

### ğŸ¥‡ ç¬¬ä¸€é˜¶æ®µï¼šæ ¸å¿ƒæ•°æ®ç»“æ„ï¼ˆå¿…è¯»ï¼‰

**ç›®æ ‡**: ç†è§£ç¼ è®ºçš„æ ¸å¿ƒå¯¹è±¡å’Œæ•°æ®æµè½¬

| åºå· | æ–‡ä»¶è·¯å¾„ | å…³é”®å†…å®¹ | é˜…è¯»é‡ç‚¹ |
|------|---------|---------|---------|
| 1 | `czsc/py/enum.py` | æšä¸¾ç±»å‹å®šä¹‰ | `Freq`, `Mark`, `Direction`, `Operate` |
| 2 | `czsc/py/objects.py` | æ ¸å¿ƒæ•°æ®ç»“æ„ | `RawBar`, `NewBar`, `FX`, `BI`, `ZS`, `Signal`, `Event`, `Position` |
| 3 | `czsc/core.py` | Rust/Python æ··åˆæ¶æ„å…¥å£ | æ™ºèƒ½å¯¼å…¥é€»è¾‘ã€ç‰ˆæœ¬æ£€æµ‹ |

**é˜…è¯»å»ºè®®**:
- é‡ç‚¹ç†è§£æ¯ä¸ªæ•°æ®ç±»çš„å­—æ®µå«ä¹‰å’Œç”¨é€”
- æ³¨æ„å¯¹è±¡ä¹‹é—´çš„ç»§æ‰¿å’Œç»„åˆå…³ç³»
- å¯¹ç…§ç¼ è®ºåŸæ–‡ç†è§£åˆ†å‹ã€ç¬”ã€ä¸­æ¢çš„å®šä¹‰

### ğŸ¥ˆ ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒç®—æ³•å®ç°ï¼ˆå¿…è¯»ï¼‰

**ç›®æ ‡**: æŒæ¡ç¼ è®ºè‡ªåŠ¨è¯†åˆ«çš„æ ¸å¿ƒç®—æ³•

| åºå· | æ–‡ä»¶è·¯å¾„ | å…³é”®å†…å®¹ | é˜…è¯»é‡ç‚¹ |
|------|---------|---------|---------|
| 4 | `czsc/py/analyze.py` | ç¼ è®ºåˆ†ææ ¸å¿ƒç±» `CZSC` | `remove_include`ï¼ˆå»åŒ…å«ï¼‰, `check_fx`ï¼ˆè¯†åˆ«åˆ†å‹ï¼‰, `check_bi`ï¼ˆè¯†åˆ«ç¬”ï¼‰ |
| 5 | `czsc/py/bar_generator.py` | Kçº¿ç”Ÿæˆå™¨ `BarGenerator` | å¤šå‘¨æœŸKçº¿åˆæˆã€Kçº¿æ›´æ–°é€»è¾‘ |

**é˜…è¯»å»ºè®®**:
- **`remove_include`**: ç†è§£åŒ…å«å…³ç³»çš„å¤„ç†ï¼ˆç¼ è®ºçš„å…³é”®ï¼‰
- **`check_fx`**: åˆ†å‹è¯†åˆ«çš„3æ ¹Kçº¿åˆ¤æ–­é€»è¾‘
- **`check_bi`**: ç¬”çš„è¯†åˆ«è§„åˆ™ï¼ˆåˆ†å‹ä¹‹é—´çš„æœ‰æ•ˆè¿æ¥ï¼‰
- **`BarGenerator`**: å¦‚ä½•ä»åŸºç¡€å‘¨æœŸåˆæˆæ›´å¤§å‘¨æœŸçš„Kçº¿

**ä»£ç ç¤ºä¾‹**:
```python
from czsc.core import CZSC, format_standard_kline, Freq
from czsc.mock import generate_symbol_kines

# ç”Ÿæˆæ¨¡æ‹ŸKçº¿æ•°æ®
df = generate_symbol_kines('000001', '30åˆ†é’Ÿ', '20240101', '20240105')
bars = format_standard_kline(df, freq=Freq.F30)

# åˆ›å»ºCZSCåˆ†æå¯¹è±¡
czsc_obj = CZSC(bars)

# æŸ¥çœ‹è¯†åˆ«ç»“æœ
print(f"åˆ†å‹æ•°é‡: {len(czsc_obj.fx_list)}")
print(f"ç¬”çš„æ•°é‡: {len(czsc_obj.bi_list)}")
print(f"æœ€åä¸€ç¬”: {czsc_obj.bi_list[-1]}")
```

### ğŸ¥‰ ç¬¬ä¸‰é˜¶æ®µï¼šä¿¡å·ä½“ç³»ï¼ˆé‡è¦ï¼‰

**ç›®æ ‡**: ç†è§£å¦‚ä½•å®šä¹‰å’Œä½¿ç”¨äº¤æ˜“ä¿¡å·

| åºå· | æ–‡ä»¶è·¯å¾„ | å…³é”®å†…å®¹ | é˜…è¯»é‡ç‚¹ |
|------|---------|---------|---------|
| 6 | `czsc/signals/bar.py` | Kçº¿çº§åˆ«ä¿¡å· | ä¿¡å·å‡½æ•°çš„æ ‡å‡†æ ¼å¼ã€å‘½åè§„èŒƒ |
| 7 | `czsc/signals/cxt.py` | ä¸Šä¸‹æ–‡ä¿¡å· | å¤šçº§åˆ«ä¿¡å·ã€åˆ†å‹ç¬”ä¿¡å· |
| 8 | `czsc/signals/tas.py` | æŠ€æœ¯æŒ‡æ ‡ä¿¡å· | å‡çº¿ã€MACDã€RSI ç­‰ä¿¡å· |
| 9 | `czsc/signals/vol.py` | æˆäº¤é‡ä¿¡å· | é‡ä»·å…³ç³»ä¿¡å· |
| 10 | `czsc/signals/pos.py` | æŒä»“ç›¸å…³ä¿¡å· | å¼€ä»“åçš„çŠ¶æ€ä¿¡å· |

**é˜…è¯»å»ºè®®**:
- æ¯ä¸ªä¿¡å·æ¨¡å—é€‰ 2-3 ä¸ªå‡½æ•°æ·±å…¥é˜…è¯»
- ç†è§£ä¿¡å·å‡½æ•°çš„æ ‡å‡†è¾“å…¥è¾“å‡ºæ ¼å¼
- æ³¨æ„ä¿¡å·å‘½åè§„èŒƒï¼ˆç‰ˆæœ¬åŒ–å‘½åï¼Œå¦‚ `V241013`ï¼‰

**ä¿¡å·å‡½æ•°æ ‡å‡†æ ¼å¼**:
```python
def signal_example_V240101(c: CZSC, **kwargs) -> OrderedDict:
    """ä¿¡å·å‡½æ•°ç¤ºä¾‹
    
    å‚æ•°æ¨¡æ¿: "30åˆ†é’Ÿ_ä¿¡å·åç§°_å‚æ•°1_å‚æ•°2_0"
    
    :param c: CZSCå¯¹è±¡
    :param kwargs: å…¶ä»–å‚æ•°
    :return: ä¿¡å·å­—å…¸
    """
    di = kwargs.get('di', 1)  # å€’æ•°ç¬¬å‡ æ ¹Kçº¿
    # ... ä¿¡å·è®¡ç®—é€»è¾‘ ...
    
    v = "æ»¡è¶³" if æ¡ä»¶ else "ä¸æ»¡è¶³"
    s = {
        "ä¿¡å·åç§°": f"{c.freq.value}_D{di}_ä¿¡å·åç§°_å‚æ•°1_å‚æ•°2_{v}_0"
    }
    return s
```

### ğŸ… ç¬¬å››é˜¶æ®µï¼šäº¤æ˜“æ¡†æ¶ï¼ˆæ ¸å¿ƒåº”ç”¨ï¼‰

**ç›®æ ‡**: æŒæ¡ç­–ç•¥å®šä¹‰å’Œå›æµ‹æ‰§è¡Œ

| åºå· | æ–‡ä»¶è·¯å¾„ | å…³é”®å†…å®¹ | é˜…è¯»é‡ç‚¹ |
|------|---------|---------|---------|
| 11 | `czsc/traders/base.py` | `CzscSignals`, `CzscTrader` | å¤šçº§åˆ«ä¿¡å·è®¡ç®—ã€äº¤æ˜“å†³ç­–æµç¨‹ |
| 12 | `czsc/strategies.py` | `CzscStrategyBase`, `CzscJsonStrategy` | ç­–ç•¥å®šä¹‰çš„æ ‡å‡†æ¨¡æ¿ã€JSONé…ç½®åŒ– |
| 13 | `czsc/sensors/cta.py` | `CTAResearch` | ç­–ç•¥ç ”ç©¶æ¡†æ¶ã€å›æµ‹å’Œä¼˜åŒ– |
| 14 | `czsc/traders/dummy.py` | `DummyBacktest` | ç®€å•å›æµ‹æ¡†æ¶ |

**é˜…è¯»å»ºè®®**:
- **`CzscSignals`**: å¦‚ä½•ä» Kçº¿ç”Ÿæˆå™¨ï¼ˆBarGeneratorï¼‰è®¡ç®—ä¿¡å·
- **`CzscTrader`**: å¦‚ä½•æ ¹æ®ä¿¡å·å’ŒæŒä»“ç­–ç•¥ï¼ˆPositionï¼‰æ‰§è¡Œäº¤æ˜“
- **`CzscStrategyBase`**: ç­–ç•¥çš„å››è¦ç´ ï¼ˆå“ç§ã€å‘¨æœŸã€ä¿¡å·ã€æŒä»“ï¼‰
- **`CTAResearch`**: å¦‚ä½•ç»„ç»‡ç­–ç•¥å›æµ‹å’Œå‚æ•°ä¼˜åŒ–

**ç­–ç•¥å®šä¹‰ç¤ºä¾‹**:
```python
from czsc import CzscJsonStrategy, Event, Position

class MyStrategy(CzscJsonStrategy):
    def __init__(self, **kwargs):
        super().__init__(**kwargs)
    
    @property
    def positions(self):
        """å®šä¹‰æŒä»“ç­–ç•¥"""
        opens = [{"operate": "å¼€å¤š", "factors": [...]}]
        exits = [{"operate": "å¹³å¤š", "factors": [...]}]
        
        pos = Position(
            name="ç­–ç•¥åç§°",
            symbol=self.symbol,
            opens=[Event.load(x) for x in opens],
            exits=[Event.load(x) for x in exits],
            interval=3600,  # å¼€ä»“é—´éš”ï¼ˆç§’ï¼‰
            timeout=100,    # è¶…æ—¶é€€å‡ºï¼ˆKçº¿æ•°ï¼‰
            stop_loss=500   # æ­¢æŸï¼ˆåŸºç‚¹ï¼‰
        )
        return [pos]
```

### ğŸ–ï¸ ç¬¬äº”é˜¶æ®µï¼šå·¥å…·å’ŒæœåŠ¡ï¼ˆæ‰©å±•é˜…è¯»ï¼‰

**ç›®æ ‡**: äº†è§£è¾…åŠ©å·¥å…·å’Œé«˜çº§åŠŸèƒ½

| åºå· | æ–‡ä»¶è·¯å¾„ | å…³é”®å†…å®¹ | ç”¨é€”è¯´æ˜ |
|------|---------|---------|---------|
| 15 | `czsc/utils/ta.py` | æŠ€æœ¯æŒ‡æ ‡è®¡ç®— | å¸¸ç”¨æŠ€æœ¯æŒ‡æ ‡å®ç°ï¼ˆTA-LibåŒ…è£…ï¼‰ |
| 16 | `czsc/utils/plotting/backtest.py` | å›æµ‹å¯è§†åŒ– | Plotlyäº¤äº’å¼å›¾è¡¨ï¼ˆç´¯è®¡æ”¶ç›Šã€å›æ’¤ç­‰ï¼‰ |
| 17 | `czsc/svc/backtest.py` | å›æµ‹åˆ†ææœåŠ¡ | ç»©æ•ˆç»Ÿè®¡ã€é£é™©æŒ‡æ ‡è®¡ç®— |
| 18 | `czsc/connectors/` | æ•°æ®æºè¿æ¥å™¨ | Tushareã€èšå®½ã€å¤©å‹¤ç­‰æ•°æ®æ¥å…¥ |
| 19 | `czsc/traders/optimize.py` | å‚æ•°ä¼˜åŒ– | ç½‘æ ¼æœç´¢ã€å‚æ•°ä¼˜åŒ–å·¥å…· |

**é˜…è¯»å»ºè®®**:
- æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©æ€§é˜…è¯»
- é‡ç‚¹å…³æ³¨è‡ªå·±ä¼šç”¨åˆ°çš„æ•°æ®æºè¿æ¥å™¨
- å›æµ‹å¯è§†åŒ–æ¨¡å—æ˜¯æ•°æ®åˆ†æçš„å¥½å¸®æ‰‹

---

## è¯¦ç»†æ¨¡å—è§£æ

### æ¨¡å—1: `czsc/py/analyze.py` - ç¼ è®ºåˆ†ææ ¸å¿ƒ

**æ ¸å¿ƒç±»**: `CZSC`

**å…³é”®æ–¹æ³•**:

```python
class CZSC:
    def __init__(self, bars: List[RawBar], **kwargs):
        """åˆå§‹åŒ–CZSCåˆ†æå¯¹è±¡"""
        
    def update(self, bar: RawBar):
        """æ›´æ–°ä¸€æ ¹Kçº¿ï¼Œå®æ—¶è¯†åˆ«åˆ†å‹ã€ç¬”"""
        
    @property
    def bars_raw(self) -> List[RawBar]:
        """åŸå§‹Kçº¿åºåˆ—"""
        
    @property
    def bars_ubi(self) -> List[NewBar]:
        """å»é™¤åŒ…å«å…³ç³»åçš„Kçº¿åºåˆ—"""
        
    @property
    def fx_list(self) -> List[FX]:
        """è¯†åˆ«å‡ºçš„åˆ†å‹åºåˆ—"""
        
    @property
    def bi_list(self) -> List[BI]:
        """è¯†åˆ«å‡ºçš„ç¬”åºåˆ—"""
```

**å·¥ä½œæµç¨‹**:
1. è¾“å…¥åŸå§‹Kçº¿ (`RawBar`)
2. å»é™¤åŒ…å«å…³ç³» â†’ ç”Ÿæˆ `NewBar` åºåˆ—
3. è¯†åˆ«åˆ†å‹ â†’ ç”Ÿæˆ `FX` åºåˆ—
4. è¯†åˆ«ç¬” â†’ ç”Ÿæˆ `BI` åºåˆ—
5. è¯†åˆ«ä¸­æ¢ â†’ ç”Ÿæˆ `ZS` åºåˆ—ï¼ˆå¦‚éœ€è¦ï¼‰

### æ¨¡å—2: `czsc/traders/base.py` - äº¤æ˜“æ‰§è¡Œæ¡†æ¶

**æ ¸å¿ƒç±»**: `CzscSignals` å’Œ `CzscTrader`

#### `CzscSignals`: å¤šçº§åˆ«ä¿¡å·è®¡ç®—

```python
class CzscSignals:
    def __init__(self, bg: BarGenerator, **kwargs):
        """
        bg: Kçº¿ç”Ÿæˆå™¨ï¼ˆåŒ…å«å¤šä¸ªå‘¨æœŸçš„Kçº¿ï¼‰
        signals_config: ä¿¡å·é…ç½®åˆ—è¡¨
        """
        self.kas = {freq: CZSC(bars) for freq, bars in bg.bars.items()}
        # kas æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œkeyæ˜¯å‘¨æœŸï¼Œvalueæ˜¯CZSCå¯¹è±¡
        
    def get_signals_by_conf(self) -> OrderedDict:
        """æ ¹æ®é…ç½®è®¡ç®—æ‰€æœ‰ä¿¡å·"""
```

**ä½¿ç”¨ç¤ºä¾‹**:
```python
signals_config = [
    {'name': 'czsc.signals.tas_ma_base_V221101', 
     'freq': 'æ—¥çº¿', 'di': 1, 'ma_type': 'SMA', 'timeperiod': 5},
    {'name': 'czsc.signals.cxt_bi_status_V230101', 
     'freq': '30åˆ†é’Ÿ', 'di': 1},
]

cs = CzscSignals(bg, signals_config=signals_config)
signals = cs.s  # å½“å‰æ‰€æœ‰ä¿¡å·å­—å…¸
```

#### `CzscTrader`: å®Œæ•´äº¤æ˜“å†³ç­–

```python
class CzscTrader:
    def __init__(self, bg: BarGenerator, positions: List[Position], **kwargs):
        """
        bg: Kçº¿ç”Ÿæˆå™¨
        positions: æŒä»“ç­–ç•¥åˆ—è¡¨
        """
        
    def update(self, bar: RawBar):
        """æ›´æ–°ä¸€æ ¹Kçº¿ï¼Œåˆ¤æ–­æ˜¯å¦è§¦å‘äº¤æ˜“äº‹ä»¶"""
        
    @property
    def positions(self) -> List[Position]:
        """æ‰€æœ‰æŒä»“ç­–ç•¥åŠå…¶çŠ¶æ€"""
```

### æ¨¡å—3: `czsc/strategies.py` - ç­–ç•¥å®šä¹‰

**ç­–ç•¥å››è¦ç´ **:

1. **äº¤æ˜“å“ç§**: `symbol` å’Œå“ç§ç›¸å…³å‚æ•°
2. **Kçº¿å‘¨æœŸ**: ä»ä¿¡å·é…ç½®ä¸­è‡ªåŠ¨æå–
3. **ä¿¡å·é…ç½®**: `signals_config` åˆ—è¡¨
4. **æŒä»“ç­–ç•¥**: `positions` æ–¹æ³•è¿”å›çš„ `Position` åˆ—è¡¨

**æ ‡å‡†æµç¨‹**:
```python
class MyStrategy(CzscStrategyBase):
    @property
    def positions(self):
        # å®šä¹‰å¼€ä»“äº‹ä»¶
        opens = [
            {
                "operate": "å¼€å¤š",
                "factors": [
                    {
                        "signals_all": ["ä¿¡å·1", "ä¿¡å·2"],  # å¿…é¡»åŒæ—¶æ»¡è¶³
                        "signals_any": ["ä¿¡å·3", "ä¿¡å·4"],  # æ»¡è¶³ä»»ä¸€
                        "signals_not": ["ä¿¡å·5"],           # ä¸èƒ½å‡ºç°
                    }
                ]
            }
        ]
        
        # å®šä¹‰å¹³ä»“äº‹ä»¶
        exits = [...]
        
        # åˆ›å»ºæŒä»“å¯¹è±¡
        pos = Position(name="ç­–ç•¥å", symbol=self.symbol, 
                      opens=[Event.load(x) for x in opens],
                      exits=[Event.load(x) for x in exits])
        return [pos]
```

---

## å®æˆ˜ä¸Šæ‰‹æŒ‡å—

### ç¤ºä¾‹1: åŸºç¡€ç¼ è®ºåˆ†æ

```python
"""è¯†åˆ«åˆ†å‹å’Œç¬”"""
from czsc.core import CZSC, format_standard_kline, Freq
from czsc.mock import generate_symbol_kines

# 1. å‡†å¤‡Kçº¿æ•°æ®
df = generate_symbol_kines('000001', '30åˆ†é’Ÿ', '20240101', '20240131')
bars = format_standard_kline(df, freq=Freq.F30)

# 2. åˆ›å»ºCZSCåˆ†æå¯¹è±¡
czsc_obj = CZSC(bars)

# 3. æŸ¥çœ‹è¯†åˆ«ç»“æœ
print("=" * 50)
print(f"åŸå§‹Kçº¿æ•°é‡: {len(czsc_obj.bars_raw)}")
print(f"å¤„ç†åKçº¿æ•°é‡: {len(czsc_obj.bars_ubi)}")
print(f"åˆ†å‹æ•°é‡: {len(czsc_obj.fx_list)}")
print(f"ç¬”æ•°é‡: {len(czsc_obj.bi_list)}")

# 4. æŸ¥çœ‹æœ€åä¸€ç¬”çš„ä¿¡æ¯
last_bi = czsc_obj.bi_list[-1]
print(f"\næœ€åä¸€ç¬”:")
print(f"  æ–¹å‘: {last_bi.direction}")
print(f"  é«˜ç‚¹: {last_bi.high}")
print(f"  ä½ç‚¹: {last_bi.low}")
print(f"  æ—¶é—´: {last_bi.fx_b.dt}")
```

### ç¤ºä¾‹2: å¤šçº§åˆ«Kçº¿åˆæˆ

```python
"""ä½¿ç”¨BarGeneratoråˆæˆå¤šå‘¨æœŸKçº¿"""
from czsc.core import BarGenerator, format_standard_kline, Freq
from czsc.mock import generate_symbol_kines

# 1. å‡†å¤‡åŸºç¡€å‘¨æœŸKçº¿ï¼ˆ1åˆ†é’Ÿï¼‰
df = generate_symbol_kines('000001', '1åˆ†é’Ÿ', '20240101', '20240105')
bars = format_standard_kline(df, freq=Freq.F1)

# 2. åˆ›å»ºKçº¿ç”Ÿæˆå™¨ï¼ˆåˆæˆå¤šå‘¨æœŸï¼‰
bg = BarGenerator(
    base_freq='1åˆ†é’Ÿ',
    freqs=['5åˆ†é’Ÿ', '15åˆ†é’Ÿ', '30åˆ†é’Ÿ', 'æ—¥çº¿'],
    max_count=2000
)

# 3. é€æ ¹æ›´æ–°Kçº¿
for bar in bars:
    bg.update(bar)

# 4. æŸ¥çœ‹å„å‘¨æœŸKçº¿æ•°é‡
for freq, freq_bars in bg.bars.items():
    print(f"{freq}: {len(freq_bars)} æ ¹Kçº¿")
    
# 5. è·å–æŸä¸ªå‘¨æœŸçš„Kçº¿
bars_30m = bg.bars[Freq.F30]
print(f"\n30åˆ†é’ŸKçº¿æœ€åä¸€æ ¹: {bars_30m[-1]}")
```

### ç¤ºä¾‹3: è®¡ç®—ä¿¡å·

```python
"""ä½¿ç”¨CzscSignalsè®¡ç®—å¤šçº§åˆ«ä¿¡å·"""
from czsc.traders import CzscSignals
from czsc.core import BarGenerator, format_standard_kline, Freq
from czsc.mock import generate_symbol_kines

# 1. å‡†å¤‡Kçº¿ç”Ÿæˆå™¨
df = generate_symbol_kines('000001', '1åˆ†é’Ÿ', '20240101', '20240105')
bars = format_standard_kline(df, freq=Freq.F1)
bg = BarGenerator(base_freq='1åˆ†é’Ÿ', freqs=['5åˆ†é’Ÿ', '30åˆ†é’Ÿ', 'æ—¥çº¿'])
for bar in bars:
    bg.update(bar)

# 2. å®šä¹‰ä¿¡å·é…ç½®
signals_config = [
    # å‡çº¿ä¿¡å·
    {'name': 'czsc.signals.tas_ma_base_V221101', 
     'freq': 'æ—¥çº¿', 'di': 1, 'ma_type': 'SMA', 'timeperiod': 5},
    # åˆ†å‹çŠ¶æ€ä¿¡å·
    {'name': 'czsc.signals.cxt_fx_power_V221107', 
     'freq': '30åˆ†é’Ÿ', 'di': 1},
]

# 3. åˆ›å»ºä¿¡å·è®¡ç®—å¯¹è±¡
cs = CzscSignals(bg, signals_config=signals_config)

# 4. æŸ¥çœ‹å½“å‰ä¿¡å·
print("å½“å‰ä¿¡å·:")
for k, v in cs.s.items():
    print(f"  {k}: {v}")
```

### ç¤ºä¾‹4: å®Œæ•´ç­–ç•¥å›æµ‹

```python
"""ä½¿ç”¨CTAResearchè¿›è¡Œç­–ç•¥å›æµ‹"""
from czsc.sensors import CTAResearch
from czsc import CzscStrategyBase, Position, Event

# 1. å®šä¹‰ç­–ç•¥ç±»
class SimpleStrategy(CzscStrategyBase):
    @property
    def positions(self):
        opens = [{
            "operate": "å¼€å¤š",
            "factors": [{
                "signals_all": ["30åˆ†é’Ÿ_D1_è¡¨é‡Œå…³ç³»V230101_å‘ä¸Š_ä»»æ„_ä»»æ„_0"],
            }]
        }]
        exits = []
        
        pos = Position(
            name="ç®€å•ç­–ç•¥",
            symbol=self.symbol,
            opens=[Event.load(x) for x in opens],
            exits=[Event.load(x) for x in exits],
            interval=3600,
            timeout=100
        )
        return [pos]

# 2. å®šä¹‰è¯»å–Kçº¿çš„å‡½æ•°
def read_bars(symbol, freq, sdt, edt, **kwargs):
    from czsc.mock import generate_symbol_kines
    from czsc.core import format_standard_kline, Freq
    df = generate_symbol_kines(symbol, freq, sdt, edt)
    return format_standard_kline(df, freq=Freq.F30)

# 3. åˆ›å»ºç ”ç©¶å¯¹è±¡
cta = CTAResearch(
    strategy=SimpleStrategy,
    read_bars=read_bars,
    results_path='./results'
)

# 4. æ‰§è¡Œå›æµ‹
cta.replay(symbol='000001', sdt='20240101', edt='20240131')
```

### ç¤ºä¾‹5: å›æµ‹ç»“æœå¯è§†åŒ–

```python
"""ç»˜åˆ¶å›æµ‹å›¾è¡¨"""
from czsc.utils.plotting.backtest import (
    plot_cumulative_returns,
    plot_backtest_stats,
    plot_monthly_heatmap
)
import pandas as pd

# å‡è®¾ä½ å·²ç»æœ‰äº†æ—¥æ”¶ç›Šæ•°æ® (DataFrame, indexä¸ºæ—¥æœŸ)
# dret = pd.read_csv('daily_returns.csv', index_col=0, parse_dates=True)

# 1. ç´¯è®¡æ”¶ç›Šæ›²çº¿
fig = plot_cumulative_returns(
    dret,
    title="ç­–ç•¥ç´¯è®¡æ”¶ç›Š",
    template="plotly"
)
fig.show()

# 2. ç»¼åˆç»Ÿè®¡å›¾ï¼ˆå›æ’¤+åˆ†å¸ƒ+çƒ­åŠ›å›¾ï¼‰
fig = plot_backtest_stats(dret, ret_col='total', title="å›æµ‹ç»Ÿè®¡")
fig.show()

# 3. æœˆåº¦æ”¶ç›Šçƒ­åŠ›å›¾
fig = plot_monthly_heatmap(dret, ret_col='total')
fig.show()

# 4. å¯¼å‡ºHTML
html = plot_cumulative_returns(dret, to_html=True)
with open('backtest_report.html', 'w', encoding='utf-8') as f:
    f.write(html)
```

---

## è¿›é˜¶å­¦ä¹ è·¯å¾„

### Level 1: å…¥é—¨é˜¶æ®µï¼ˆ1-2å‘¨ï¼‰

**ç›®æ ‡**: èƒ½å¤Ÿä½¿ç”¨ç°æœ‰ç­–ç•¥è¿›è¡Œå›æµ‹

- [ ] å®Œæˆ"æºç é˜…è¯»é¡ºåº"çš„ç¬¬1-2é˜¶æ®µ
- [ ] è¿è¡Œ `examples/30åˆ†é’Ÿç¬”éå¤šå³ç©º.py` ç¤ºä¾‹
- [ ] ç†è§£ `Position` å’Œ `Event` çš„é…ç½®æ–¹æ³•
- [ ] å°è¯•ä¿®æ”¹ç­–ç•¥å‚æ•°ï¼ˆé—´éš”ã€è¶…æ—¶ã€æ­¢æŸï¼‰

**æ¨èèµ„æ–™**:
- é£ä¹¦æ–‡æ¡£: [CTAæ‹©æ—¶ï¼šç¼ è®º30åˆ†é’Ÿç¬”éå¤šå³ç©º](https://s0cqcxuy3p.feishu.cn/wiki/YPlewoj70ikwxakPnOucTP8lnYg)
- Bç«™è§†é¢‘æ•™ç¨‹ï¼ˆå…¥é—¨ç¯‡ï¼‰

### Level 2: è¿›é˜¶é˜¶æ®µï¼ˆ2-4å‘¨ï¼‰

**ç›®æ ‡**: èƒ½å¤Ÿå¼€å‘è‡ªå®šä¹‰ä¿¡å·å‡½æ•°

- [ ] å®Œæˆ"æºç é˜…è¯»é¡ºåº"çš„ç¬¬3é˜¶æ®µ
- [ ] é˜…è¯» `czsc/signals/` ä¸‹è‡³å°‘5ä¸ªä¿¡å·å‡½æ•°
- [ ] ç¼–å†™1-2ä¸ªè‡ªå®šä¹‰ä¿¡å·å‡½æ•°
- [ ] ç†è§£ä¿¡å·å‘½åè§„èŒƒå’Œç‰ˆæœ¬ç®¡ç†

**æ¨èèµ„æ–™**:
- é£ä¹¦æ–‡æ¡£: [ä¿¡å·å‡½æ•°ç¼–å†™è§„èŒƒ](https://s0cqcxuy3p.feishu.cn/wiki/wikcnCFLLTNGbr2THqo7KtWfBkd)
- æŸ¥çœ‹ `examples/signals_dev/` ç¤ºä¾‹

### Level 3: é«˜çº§é˜¶æ®µï¼ˆ4-8å‘¨ï¼‰

**ç›®æ ‡**: èƒ½å¤Ÿå¼€å‘å®Œæ•´ç­–ç•¥å¹¶ä¼˜åŒ–

- [ ] å®Œæˆ"æºç é˜…è¯»é¡ºåº"çš„ç¬¬4-5é˜¶æ®µ
- [ ] ä½¿ç”¨ `CTAResearch` æ¡†æ¶è¿›è¡Œç­–ç•¥ç ”ç©¶
- [ ] å­¦ä¹ å‚æ•°ä¼˜åŒ–ï¼ˆ`OpensOptimize`, `ExitsOptimize`ï¼‰
- [ ] ç†è§£å¤šå“ç§å›æµ‹å’Œç»„åˆä¼˜åŒ–

**æ¨èèµ„æ–™**:
- é£ä¹¦æ–‡æ¡£: [ä½¿ç”¨CTAç ”ç©¶UIé¡µé¢è¿›è¡Œç­–ç•¥ç ”ç©¶](https://s0cqcxuy3p.feishu.cn/wiki/JWe3wo1VNiglO9kE999cGy8innh)
- æŸ¥çœ‹ `examples/use_optimize.py`

### Level 4: ä¸“å®¶é˜¶æ®µï¼ˆæŒç»­å­¦ä¹ ï¼‰

**ç›®æ ‡**: è´¡çŒ®ä»£ç ã€æ·±åº¦å®šåˆ¶

- [ ] ç†è§£ Rust/Python æ··åˆæ¶æ„
- [ ] é˜…è¯» `rs-czsc` Rust å®ç°æºç 
- [ ] ä¸ºé¡¹ç›®è´¡çŒ®ä¿¡å·å‡½æ•°æˆ–å·¥å…·
- [ ] å¼€å‘è‡ªå®šä¹‰æ•°æ®æºè¿æ¥å™¨

**æ¨èèµ„æ–™**:
- é¡¹ç›® GitHub Issues å’Œ Pull Requests
- é£ä¹¦ç¾¤è®¨è®ºï¼ˆé“¾æ¥è§ READMEï¼‰

---

## å¸¸è§é—®é¢˜ FAQ

### Q1: å¦‚ä½•é€‰æ‹©é˜…è¯»Pythonç‰ˆæœ¬è¿˜æ˜¯Rustç‰ˆæœ¬ï¼Ÿ

**A**: 
- **åˆå­¦è€…**: å»ºè®®é˜…è¯» **Python ç‰ˆæœ¬**ï¼ˆ`czsc/py/`ï¼‰ï¼Œä»£ç æ›´æ˜“ç†è§£
- è®¾ç½®ç¯å¢ƒå˜é‡ `CZSC_USE_PYTHON=1` å¼ºåˆ¶ä½¿ç”¨ Python ç‰ˆæœ¬
- Rust ç‰ˆæœ¬ä¸»è¦ç”¨äºæ€§èƒ½ä¼˜åŒ–ï¼Œæ ¸å¿ƒé€»è¾‘ä¸ Python ç‰ˆæœ¬ä¸€è‡´

### Q2: ä¿¡å·å‡½æ•°ä¸­çš„ `di` å‚æ•°æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ

**A**: `di` è¡¨ç¤º"å€’æ•°ç¬¬å‡ æ ¹Kçº¿"ï¼ˆDistance Indexï¼‰
- `di=1`: æœ€åä¸€æ ¹Kçº¿ï¼ˆå®æ—¶ï¼‰
- `di=2`: å€’æ•°ç¬¬äºŒæ ¹Kçº¿
- ç”¨äºå›æº¯åˆ†æå†å²ä¿¡å·

### Q3: å¦‚ä½•ç†è§£"å»é™¤åŒ…å«å…³ç³»"ï¼Ÿ

**A**: è¿™æ˜¯ç¼ è®ºçš„æ ¸å¿ƒæ¦‚å¿µ
- åŒ…å«å…³ç³»: ä¸€æ ¹Kçº¿çš„é«˜ä½ç‚¹è¢«å¦ä¸€æ ¹å®Œå…¨åŒ…å«
- å»é™¤æ–¹æ³•: æ ¹æ®è¶‹åŠ¿æ–¹å‘åˆå¹¶Kçº¿ï¼ˆå‘ä¸Šå–å¤§ï¼Œå‘ä¸‹å–å°ï¼‰
- è¯¦è§ `czsc/py/analyze.py` ä¸­çš„ `remove_include` å‡½æ•°

### Q4: ç­–ç•¥å›æµ‹ä¸ºä»€ä¹ˆæ²¡æœ‰äº¤æ˜“ä¿¡å·ï¼Ÿ

**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. Kçº¿æ•°æ®æ˜¯å¦å……è¶³ï¼ˆè‡³å°‘100æ ¹ä»¥ä¸Šï¼‰
2. ä¿¡å·é…ç½®æ˜¯å¦æ­£ç¡®ï¼ˆæ£€æŸ¥ä¿¡å·åç§°å’Œå‚æ•°ï¼‰
3. å¼€ä»“äº‹ä»¶çš„ä¿¡å·æ¡ä»¶æ˜¯å¦è¿‡äºä¸¥æ ¼
4. ä½¿ç”¨ `print(cs.s)` æŸ¥çœ‹å®é™…ç”Ÿæˆçš„ä¿¡å·

### Q5: å¦‚ä½•è·å–æ›´å¤šæ•°æ®æºï¼Ÿ

**A**: 
- æŸ¥çœ‹ `czsc/connectors/` ç›®å½•
- Tushare: éœ€è¦ tokenï¼ˆå…è´¹æ³¨å†Œï¼‰
- èšå®½: éœ€è¦è´¦å·è®¤è¯
- å¤©å‹¤: æœŸè´§æ•°æ®ï¼Œéœ€è¦è´¦å·
- å»ºè®®å…ˆä½¿ç”¨ `czsc.mock.generate_symbol_kines` æ¨¡æ‹Ÿæ•°æ®å­¦ä¹ 

---

## æ¨èå­¦ä¹ èµ„æº

### ç¼ è®ºåŸè‘—

- [ç¼ ä¸­è¯´ç¦…åšå®¢å¤‡ä»½1](http://www.fxgan.com)
- [ç¼ ä¸­è¯´ç¦…åšå®¢å¤‡ä»½2](https://chzhshch.blog)
- é¡¹ç›® `czsc/docs/` ç›®å½•ä¸‹çš„æ•´ç†ç‰ˆæ–‡æ¡£

### è§†é¢‘æ•™ç¨‹

- [Bç«™å®˜æ–¹æ•™ç¨‹åˆé›†](https://space.bilibili.com/243682308/channel/series)
- æ¶µç›–ä»å…¥é—¨åˆ°å®æˆ˜çš„å®Œæ•´æ•™ç¨‹

### åœ¨çº¿æ–‡æ¡£

- [API æ–‡æ¡£](https://czsc.readthedocs.io/en/latest/modules.html)
- [é£ä¹¦é¡¹ç›®æ–‡æ¡£](https://s0cqcxuy3p.feishu.cn/wiki/wikcn3gB1MKl3ClpLnboHM1QgKf)

### ç¤¾åŒºäº¤æµ

- é£ä¹¦ç¾¤: [åŠ å…¥é“¾æ¥](https://applink.feishu.cn/client/chat/chatter/add_by_link?link_token=0bak668e-7617-452c-b935-94d2c209e6cf)
- GitHub Issues: æé—®å’Œè®¨è®º
- å¾®ä¿¡: zengbin93ï¼ˆå¤‡æ³¨"CZSCå­¦ä¹ "ï¼‰

---

## é™„å½•ï¼šå…³é”®æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒæ¨¡å—ï¼ˆå¿…è¯»ï¼‰

```
czsc/
â”œâ”€â”€ core.py                    # Rust/Pythonæ··åˆæ¶æ„å…¥å£
â”œâ”€â”€ py/
â”‚   â”œâ”€â”€ enum.py                # æšä¸¾ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ objects.py             # æ ¸å¿ƒæ•°æ®ç»“æ„
â”‚   â”œâ”€â”€ analyze.py             # ç¼ è®ºåˆ†ææ ¸å¿ƒï¼ˆCZSCç±»ï¼‰
â”‚   â””â”€â”€ bar_generator.py       # Kçº¿ç”Ÿæˆå™¨
â”œâ”€â”€ signals/                   # ä¿¡å·å‡½æ•°åº“
â”‚   â”œâ”€â”€ bar.py                 # Kçº¿ä¿¡å·
â”‚   â”œâ”€â”€ cxt.py                 # ä¸Šä¸‹æ–‡ä¿¡å·
â”‚   â”œâ”€â”€ tas.py                 # æŠ€æœ¯æŒ‡æ ‡ä¿¡å·
â”‚   â”œâ”€â”€ vol.py                 # æˆäº¤é‡ä¿¡å·
â”‚   â””â”€â”€ pos.py                 # æŒä»“ä¿¡å·
â”œâ”€â”€ traders/                   # äº¤æ˜“æ‰§è¡Œæ¡†æ¶
â”‚   â”œâ”€â”€ base.py                # CzscSignalså’ŒCzscTrader
â”‚   â”œâ”€â”€ dummy.py               # ç®€å•å›æµ‹
â”‚   â””â”€â”€ optimize.py            # å‚æ•°ä¼˜åŒ–
â”œâ”€â”€ strategies.py              # ç­–ç•¥å®šä¹‰æ¨¡æ¿
â””â”€â”€ sensors/
    â””â”€â”€ cta.py                 # CTAç ”ç©¶æ¡†æ¶
```

### å·¥å…·å’ŒæœåŠ¡ï¼ˆé€‰è¯»ï¼‰

```
czsc/
â”œâ”€â”€ utils/                     # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ ta.py                  # æŠ€æœ¯æŒ‡æ ‡
â”‚   â”œâ”€â”€ plotting/backtest.py   # å›æµ‹å¯è§†åŒ–
â”‚   â””â”€â”€ data/                  # æ•°æ®å·¥å…·
â”œâ”€â”€ svc/                       # æœåŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ backtest.py            # å›æµ‹åˆ†æ
â”‚   â”œâ”€â”€ factor.py              # ç»Ÿè®¡å› å­åˆ†æ
â”‚   â””â”€â”€ statistics.py          # ç»Ÿè®¡å·¥å…·
â”œâ”€â”€ connectors/                # æ•°æ®æºè¿æ¥å™¨
â”‚   â”œâ”€â”€ ts_connector.py        # Tushare
â”‚   â”œâ”€â”€ jq_connector.py        # èšå®½
â”‚   â””â”€â”€ tq_connector.py        # å¤©å‹¤
â””â”€â”€ mock.py                    # æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆ
```

### ç¤ºä¾‹ä»£ç ï¼ˆå®æˆ˜å‚è€ƒï¼‰

```
examples/
â”œâ”€â”€ 30åˆ†é’Ÿç¬”éå¤šå³ç©º.py         # ç»å…¸ç­–ç•¥ç¤ºä¾‹
â”œâ”€â”€ use_cta_research.py        # CTAæ¡†æ¶ä½¿ç”¨
â”œâ”€â”€ use_optimize.py            # å‚æ•°ä¼˜åŒ–ç¤ºä¾‹
â””â”€â”€ signals_dev/               # ä¿¡å·å¼€å‘ç¤ºä¾‹
```

---

## æ€»ç»“

æœ¬æŒ‡å—æä¾›äº†ç³»ç»ŸåŒ–çš„ CZSC æºç é˜…è¯»è·¯å¾„ï¼Œå»ºè®®æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š

1. âœ… **ç†è§£æ ¸å¿ƒæ¦‚å¿µ** - èŠ±1å¤©æ—¶é—´ç†è§£ä¿¡å·-äº‹ä»¶-äº¤æ˜“ä½“ç³»
2. âœ… **é˜…è¯»æ ¸å¿ƒæ•°æ®ç»“æ„** - 2-3å¤©æ·±å…¥ç†è§£ `objects.py` å’Œ `enum.py`
3. âœ… **å­¦ä¹ æ ¸å¿ƒç®—æ³•** - 3-5å¤©ç²¾è¯» `analyze.py`ï¼Œç†è§£åˆ†å‹ã€ç¬”è¯†åˆ«
4. âœ… **å®æˆ˜ä¿¡å·å¼€å‘** - 1-2å‘¨å­¦ä¹ å’Œæ¨¡ä»¿ç°æœ‰ä¿¡å·å‡½æ•°
5. âœ… **ç­–ç•¥å¼€å‘ä¸å›æµ‹** - 2-4å‘¨å¼€å‘å®Œæ•´ç­–ç•¥å¹¶å›æµ‹ä¼˜åŒ–

**è®°ä½**: é‡åŒ–äº¤æ˜“æ˜¯å®è·µé©±åŠ¨çš„ï¼Œè¾¹å­¦è¾¹åšæ•ˆæœæœ€å¥½ï¼

ç†è§£æ ¸å¿ƒç†å¿µï¼š
- **ä¿¡å·(Signal)**: å¸‚åœºçŠ¶æ€çš„åŸºæœ¬åˆ¤æ–­
- **äº‹ä»¶(Event)**: ä¿¡å·çš„é€»è¾‘ç»„åˆï¼Œä»£è¡¨äº¤æ˜“æ¡ä»¶
- **æŒä»“(Position)**: å®Œæ•´çš„äº¤æ˜“ç­–ç•¥å®šä¹‰


---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
**æ›´æ–°æ—¥æœŸ**: 2024-02-16  
**ä½œè€…**: CZSC Community  
**ç»´æŠ¤**: å¦‚æœ‰ç–‘é—®æˆ–å»ºè®®ï¼Œè¯·æäº¤ GitHub Issue
